!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s="NHnr")}({NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("lRwf"),i=n.n(r),o={name:"ReInitBaseComponent",props:{order:{id:Number,properties:[{typeId:Number,value:String}]},paymentIds:Array,label:String},mounted(){this.currentOrder=this.order,document.addEventListener("historyPaymentMethodChanged",e=>{this.currentOrder=e.detail.newOrder.order})},computed:{isVisible(){if(!this.currentOrder)return console.log("this.order is empty"),!1;let e=-1,t="";for(let t of this.currentOrder.properties)3===t.typeId&&(e=parseInt(t.value));for(let e of this.currentOrder.properties)4===e.typeId&&(t=e.value.toString());return-1!==this.paymentIds.indexOf(e)&&!("fullyPaid"===t||"fullPaid"===t)}},data:()=>({failed:!1,isActive:!1,isLoading:!1,currentOrder:{id:Number,properties:[{typeId:Number,value:String}]}}),methods:{prepareCheckout(){this.isLoading=!0,this.failed=!1,$.get("/rest/mollie/init_payment",{orderId:this.currentOrder.id}).done(e=>{e.error?this.failed=!0:e._links.checkout&&e._links.checkout.href?window.location=e._links.checkout.href:this.failed=!0}).fail(e=>{this.failed=!0}).always(()=>{this.isLoading=!1})}}},a={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]},s=n("VU/8")(o,a,!1,null,null,null).exports,l={extends:s},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isVisible?n("div",[n("button",{staticClass:"btn btn-primary btn-block",attrs:{disabled:e.isLoading},on:{click:function(t){e.prepareCheckout()}}},[e._v("\n        "+e._s(e.label)+"\n    ")]),e._v(" "),e.failed?n("div",{staticClass:"alert alert-danger m-t-1"},[e._v("\n        Error while trying to prepare payment\n    ")]):e._e()]):e._e()},staticRenderFns:[]};var d=n("VU/8")(l,c,!1,function(e){n("mTEE")},"data-v-9889f5ba",null).exports,u={extends:s},p={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isVisible?n("div",{staticClass:"row"},[n("strong",{staticClass:"col-xs-6 col-sm-5"}),e._v(" "),n("span",{staticClass:"col-xs-6 col-sm-7"},[n("button",{staticClass:"btn btn-primary btn-block",attrs:{disabled:e.isLoading},on:{click:function(t){e.prepareCheckout()}}},[e._v("\n            "+e._s(e.label)+"\n        ")]),e._v(" "),e.failed?n("div",{staticClass:"alert alert-danger m-t-1"},[e._v("\n            Error while trying to prepare payment\n        ")]):e._e()])]):e._e()},staticRenderFns:[]};var f=n("VU/8")(u,p,!1,function(e){n("lUF7")},"data-v-a30419e2",null).exports;i.a.component("mollie-re-init-payment-btn",d),i.a.component("mollie-re-init-payment-container",f),"true"!==localStorage.getItem("mollieApplePayChecked")&&(window.ApplePaySession&&window.ApplePaySession.canMakePayments()&&$.ajax({type:"PUT",url:"/rest/mollie/activate_apple_pay"}).done(function(){console.log("apple pay active")}).fail(function(e){}),localStorage.setItem("mollieApplePayChecked","true"))},"VU/8":function(e,t){e.exports=function(e,t,n,r,i,o){var a,s=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(a=e,s=e.default);var c,d="function"==typeof s?s.options:s;if(t&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0),n&&(d.functional=!0),i&&(d._scopeId=i),o?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},d._ssrRegister=c):r&&(c=r),c){var u=d.functional,p=u?d.render:d.beforeCreate;u?(d._injectStyles=c,d.render=function(e,t){return c.call(t),p(e,t)}):d.beforeCreate=p?[].concat(p,c):[c]}return{esModule:a,exports:s,options:d}}},lRwf:function(e,t){e.exports=Vue},lUF7:function(e,t){},mTEE:function(e,t){}});
//# sourceMappingURL=app.js.map