!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s="NHnr")}({NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("lRwf"),i=r.n(n),o={name:"ReInitBaseComponent",props:{order:{id:Number,properties:[{typeId:Number,value:String}]},paymentIds:Array,label:String},mounted(){this.currentOrder=this.order,document.addEventListener("historyPaymentMethodChanged",e=>{this.currentOrder=e.detail.newOrder.order})},computed:{isVisible(){if(!this.currentOrder)return console.log("this.order is empty"),!1;let e=-1,t="";for(let t of this.currentOrder.properties)3===t.typeId&&(e=parseInt(t.value));for(let e of this.currentOrder.properties)4===e.typeId&&(t=e.value.toString());return-1!==this.paymentIds.indexOf(e)&&!("fullyPaid"===t||"fullPaid"===t)}},data:()=>({failed:!1,isActive:!1,isLoading:!1,currentOrder:{id:Number,properties:[{typeId:Number,value:String}]}}),methods:{prepareCheckout(){this.isLoading=!0,this.failed=!1,$.get("/rest/mollie/init_payment",{orderId:this.currentOrder.id}).done(e=>{e.error?this.failed=!0:e._links.checkout&&e._links.checkout.href?window.location=e._links.checkout.href:this.failed=!0}).fail(e=>{this.failed=!0}).always(()=>{this.isLoading=!1})}}},s={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]},a=r("VU/8")(o,s,!1,null,null,null).exports,l={extends:a},d={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isVisible?r("div",[r("button",{staticClass:"btn btn-primary btn-block",attrs:{disabled:e.isLoading},on:{click:function(t){e.prepareCheckout()}}},[e._v("\n        "+e._s(e.label)+"\n    ")]),e._v(" "),e.failed?r("div",{staticClass:"alert alert-danger m-t-1"},[e._v("\n        Error while trying to prepare payment\n    ")]):e._e()]):e._e()},staticRenderFns:[]};var c=r("VU/8")(l,d,!1,function(e){r("mTEE")},"data-v-9889f5ba",null).exports,u={extends:a},p={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isVisible?r("div",{staticClass:"row"},[r("strong",{staticClass:"col-xs-6 col-sm-5"}),e._v(" "),r("span",{staticClass:"col-xs-6 col-sm-7"},[r("button",{staticClass:"btn btn-primary btn-block",attrs:{disabled:e.isLoading},on:{click:function(t){e.prepareCheckout()}}},[e._v("\n            "+e._s(e.label)+"\n        ")]),e._v(" "),e.failed?r("div",{staticClass:"alert alert-danger m-t-1"},[e._v("\n            Error while trying to prepare payment\n        ")]):e._e()])]):e._e()},staticRenderFns:[]};var f=r("VU/8")(u,p,!1,function(e){r("lUF7")},"data-v-a30419e2",null).exports;i.a.component("mollie-re-init-payment-btn",c),i.a.component("mollie-re-init-payment-container",f)},"VU/8":function(e,t){e.exports=function(e,t,r,n,i,o){var s,a=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(s=e,a=e.default);var d,c="function"==typeof a?a.options:a;if(t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId=i),o?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=d):n&&(d=n),d){var u=c.functional,p=u?c.render:c.beforeCreate;u?(c._injectStyles=d,c.render=function(e,t){return d.call(t),p(e,t)}):c.beforeCreate=p?[].concat(p,d):[d]}return{esModule:s,exports:a,options:c}}},lRwf:function(e,t){e.exports=Vue},lUF7:function(e,t){},mTEE:function(e,t){}});
//# sourceMappingURL=app.js.map